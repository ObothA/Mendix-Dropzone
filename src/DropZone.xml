<?xml version="1.0" encoding="utf-8" ?>
<widget id="com.mendix.widget.custom.dropzone.DropZone" needsEntityContext="true" offlineCapable="true" xmlns="http://www.mendix.com/widget/1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mendix.com/widget/1.0/ ../xsd/widget.xsd">
    <name>DropZone</name>
    <description>Drags and drop app</description>
    <icon/>
    <properties>
        <property key="fileEntity" type="entity">
            <caption>File entity</caption>
            <category>Data source</category>
            <description></description>
        </property>
        <property key="contextAssociation" type="entity"  isPath="yes" pathType="reference" required="false" entityProperty="fileEntity">
            <caption>Association to context</caption>
            <category>Data source</category>
            <description>If provided used to set the association of new files to the context. Should be a path to the context</description>
        </property>

        <property key="message" type="translatableString" required="false">
            <caption>Initial message</caption>
            <category>Appearance</category>
            <description>The message that gets displayed before any files are dropped</description>
            <translations>
                <translation lang="en_US">text</translation>
                <translation lang="nl_NL">tekst</translation>
            </translations>
        </property>
        <property key="fileTypes" type="string" required="false">
            <caption>File types</caption>
            <category>Appearance</category>
            <description>Semi colon  seperated list of file extensions e.g .pdf ; .txt</description>
        </property>
        <property key="maxFileSize" type="integer" defaultValue="5">
            <caption>Maximum file size (MB)</caption>
            <category>Appearance</category>
            <description>Maximum file size in MB</description>
        </property>
        <property key="maxFiles" type="integer" defaultValue="5">
            <caption>Maxixum files</caption>
            <category>Appearance</category>
            <description>Maximum files</description>
        </property>
            <property key="thumbnailWidth" type="integer" defaultValue="100">
            <caption>Thumbnail width</caption>
            <category>Appearance</category>
             <description></description>
        </property>
        <property key="thumbnailHeight" type="integer" defaultValue="100">
            <caption>Thumbnail height</caption>
            <category>Appearance</category>
            <description></description>
        </property>

        <property key="autoUpload" type="boolean" defaultValue="false">
            <caption>Auto Start Upload</caption>
            <category>Appearance</category>
            <description>Hide upload button start uploading on drop</description>
        </property>

        <property key="onDropEvent" type="enumeration" defaultValue="doNothing">
            <caption>On drop</caption>
            <category>Events</category>
            <description/>
            <enumerationValues>
                <enumerationValue key="doNothing">Do nothing</enumerationValue>
                <enumerationValue key="callMicroflow">Call a microflow</enumerationValue>
                <enumerationValue key="callNanoflow">Call a nanoflow</enumerationValue>
            </enumerationValues>
        </property>

        <property key="onDropMicroflow" type="microflow" required="false" entityProperty="fileEntity">
            <caption>On drop microflow</caption>
            <category>Events</category>
            <description>Microflow that will be executed when a file is dropped</description>
            <returnType type="Boolean"/>
        </property>

        <property key="onDropNanoflow" type="nanoflow" required="false" entityProperty="fileEntity">
            <caption>On drop nanoflow</caption>
            <category>Events</category>
            <description>Nanoflow that will be executed when a file is dropped</description>
            <returnType type="Boolean"/>
        </property>


        <property key="onRemoveEvent" type="enumeration" defaultValue="doNothing">
            <caption>On remove of a file</caption>
            <category>Events</category>
            <description/>
            <enumerationValues>
                <enumerationValue key="doNothing">Do nothing</enumerationValue>
                <enumerationValue key="callMicroflow">Call a microflow</enumerationValue>
                <enumerationValue key="callNanoflow">Call a nanoflow</enumerationValue>
            </enumerationValues>
        </property>

        <property key="onRemoveMicroflow" type="microflow" required="false" entityProperty="fileEntity">
            <caption>On remove microflow</caption>
            <category>Events</category>
            <description>Microflow that will be executed when an uploaded file is removed</description>
            <returnType type="Boolean"/>
        </property>

         <property key="onRemoveNanoflow" type="nanoflow" required="false" entityProperty="fileEntity">
            <caption>On remove nanoflow</caption>
            <category>Events</category>
            <description>Nanoflow that will be executed when an uploaded file is removed</description>
            <returnType type="Boolean"/>
        </property>

        <property key="onUploadEvent" type="enumeration" defaultValue="doNothing">
            <caption>On upload of a file</caption>
            <category>Events</category>
            <description/>
            <enumerationValues>
                <enumerationValue key="doNothing">Do nothing</enumerationValue>
                <enumerationValue key="callMicroflow">Call a microflow</enumerationValue>
                <enumerationValue key="callNanoflow">Call a nanoflow</enumerationValue>
            </enumerationValues>
        </property>

        <property key="onUploadMicroflow" type="microflow" required="false" entityProperty="fileEntity">
            <caption>On upload microflow</caption>
            <category>Events</category>
            <description>Microflow that will be executed when a file is uploaded</description>
            <returnType type="Boolean"/>
        </property>

        <property key="onUploadNanoflow" type="nanoflow" required="false" entityProperty="fileEntity">
            <caption>On upload nanoflow</caption>
            <category>Events</category>
            <description>Nanoflow that will be executed when a file is uploaded</description>
            <returnType type="Boolean"/>
        </property>

    </properties>
</widget>
